namespace("core.utilities.URIHelpers");
core.utilities.URIHelpers={interceptClicks:function(){document.body.addEventListener("click",this.onLinkClicked.bind(this),!1)},setTargetWindow:function(a){this.targetWindow=a},getTargetWindow:function(a){return this.targetWindow||window},evalUrl:function(a){console.warn("Deprecated: core.utilities.URIHelpers.evalUrl() - use core.utilities.URIHelpers.eval() instead");return this.eval(a)},onLinkClicked:function(a){var b=this,c=core.ui.HtmlComponent.prototype.getRealTargetFromEvent(a,"a","body"),d=
"";if(c){var e=c.getAttribute("href").trim();d=!e||"#"==e||""==e||0<=e.indexOf(":void")?0<c.textContent.trim().length?c.textContent:application.classname+"_"+c.id:e}else d=a.target.textContent;if((d=d.trim())&&0<d.length&&(a.preventDefault(),e=core.utilities.URIHelpers.map(d))&&(e=core.utilities.URIHelpers.eval(e))){d=d.split("?")[1];var f=e+("?"+(d||""));this.track(f);setTimeout(function(){b.getTargetWindow().location.href=f},100)}},track:function(a){if("string"==typeof a){var b=a.split("/");application.track({Type:"event",
Action:"click",Category:b[b.length-2],Label:a})}else"object"==typeof a&&application.track(a)},map:function(a){for(var b in ROUTES.URL_MAPPING)if(a.match(new RegExp(b)))return ROUTES.URL_MAPPING[b];console.warn("core.utilities.URIHelpers.map(): No URL_MAPPING defined for:\n"+a);return null},eval:function(a){return a=a.replace(/\{([a-zA-Z0-9\._\-]+)\}/gim,function(a,c){return eval(c)})},highlight:function(a){a=[].slice.call(a||document.body.querySelectorAll("a"));for(var b in ROUTES.URL_MAPPING){var c=
new RegExp(b);a.forEach(function(a){var b=a.getAttribute("href");b&&b.match(c)&&(a.classList.remove("active"),setTimeout(function(){a.classList.add("active")},200))})}}};
namespace("core.ui.HelloWorldApplication",{"@inherits":core.Application,"@cascade":!0,"@traits":[core.traits.InitializeApplicationData],"@imports":["src/libs/tracker/src/core/libs/Tracker.src.js"],intiDefaultApp:function(){},initialize:function(){this.parent(arguments);core.utilities.URIHelpers.interceptClicks();core.utilities.URIHelpers.highlight(this.querySelectorAll("a"))},track:function(a){Session.Tracker?Session.Tracker.log(a):console.error("Session.Tracker is undefined. Try including a reference to Tracker from: "+
this.namespace)}});namespace("core.controllers.MegaMenuDataController",{"@inherits":core.controllers.StorageController,SEED_DATA_URI:ROUTES.DATA.MEGA_MENU,initialize:function(a,b){this.allocate("mega-menu")}});
namespace("core.ui.DropdownMenu",{"@inherits":core.ui.WebComponent,"@stylesheets":[],"@cascade":!0,initialize:function(){this.addEventListener("click",this.onMenuItemClicke.bind(this),!1);this.tertiary_menu_container=this.querySelector(".dropdown-menu-tertiary-items")},onMenuItemClicke:function(a){if((a=a.target)&&a.classList.contains("dropdown-menu-item")){this.lastSelectedEl&&this.lastSelectedEl.classList.remove("selected");if("true"==a.getAttribute("data-childmenu")){var b=a.querySelector(".tertiary-childmenu");
this.tertiary_menu_container.style.display="block";this.tertiary_menu_container.innerHTML=b.innerHTML}else{this.tertiary_menu_container.style.display="none";b=a.getAttribute("data-appref");var c=a.getAttribute("title");this.dispatchEvent("selected",!0,!0,{target:a});b&&(application.open({appref:b}),this.logEvent({Type:"event",Category:"MegaMenu",Label:c,Action:"click"}))}a.classList.add("selected");this.lastSelectedEl=a}},logEvent:function(a){application.dispatchEvent("tracking",!0,!0,a)}});
namespace("core.ui.menus.wfn.MegaMenu",{"@inherits":core.ui.WebComponent,"@cascade":!0,"@stylesheets":["src/./index.css"],"@href":"src/./index.html","@imports":[],initialize:function(){this.parent();this.menu_container=this.querySelector("#mega-menu-container");application.addEventListener("click",this.onMenuItemClicked.bind(this),!1);this.dataController=new core.controllers.MegaMenuDataController;this.dataController.addEventListener("loaded",this.onMenuDataLoaded.bind(this),!1);this.dataController.addEventListener("insert",
this.onMenuItemInserted.bind(this),!1);this.dataController.addEventListener("updated",this.onMenuUpdated.bind(this),!1);this.load()},reset:function(){this.dataController.reset(!0)},load:function(){this.dataController.load({role:Session.user.role,country:Session.State.currentLanguage.CODE})},onMenuUpdated:function(a){this.render(a)},hideMegaMenu:function(){this.lastSelectedEl.classList.remove("selected")},onMenuItemInserted:function(a){console.log("mega menu item inserted",a.controller.getData());
if(a.controller==this.dataController)this.onRenderData(a.controller.getData(),!0)},onMenuDataLoaded:function(a){console.log("mega menu loaded",a.controller.getData());if(a.controller==this.dataController)this.onRenderData(a.controller.getData(),!0)},render:function(a){this.onRenderData(this.dataController.getData(),!0)},onMenuItemClicked:function(a){var b=this.getRealTargetFromEvent(a,".dropdown-menu-item",".DropdownMenu"),c=this.getRealTargetFromEvent(a,".menu-item",".MegaMenu"),d=b||c;b?a.stopPropagation():
c?(console.log(c),this.lastSelectedEl&&this.lastSelectedEl!=c&&this.lastSelectedEl.classList.remove("selected"),c.classList.toggle("selected"),this.lastSelectedEl=c):this.lastSelectedEl&&this.lastSelectedEl.classList.remove("selected");d&&(a=d.getAttribute("data-href"))&&window.postMessage({type:"redirect",url:a},"*")}});
namespace("core.ui.menus.oneservice.MegaMenu",{"@inherits":core.ui.WebComponent,"@cascade":!0,"@stylesheets":["src/./index.css"],"@href":"src/./index.html","@imports":[],initialize:function(){this.parent();this.menu_container=this.querySelector("#mega-menu-container");application.addEventListener("click",this.onMenuItemClicked.bind(this),!1);this.dataController=new core.controllers.MegaMenuDataController;this.dataController.addEventListener("loaded",this.onMenuDataLoaded.bind(this),!1);this.dataController.addEventListener("insert",
this.onMenuItemInserted.bind(this),!1);this.load()},reset:function(){this.dataController.reset(!0)},load:function(){this.dataController.load({role:Session.user.role,country:Session.State.currentLanguage.CODE})},onMenuUpdated:function(a){this.render(a)},hideMegaMenu:function(){this.lastSelectedEl.classList.remove("selected")},render:function(a){this.onRenderData(this.dataController.getData(),!0)},onMenuItemInserted:function(a){console.log("mega menu item inserted",a.controller.getData());if(a.controller==
this.dataController)this.onRenderData(a.controller.getData(),!0)},onMenuDataLoaded:function(a){console.log("mega menu loaded",a.controller.getData());if(a.controller==this.dataController)this.onRenderData(a.controller.getData(),!0)},onMenuItemClicked:function(a){var b=this.getRealTargetFromEvent(a,".dropdown-menu-item",".DropdownMenu"),c=this.getRealTargetFromEvent(a,".menu-item",".MegaMenu"),d=b||c;b?a.stopPropagation():c?(console.log(c),this.lastSelectedEl&&this.lastSelectedEl!=c&&this.lastSelectedEl.classList.remove("selected"),
c.classList.toggle("selected"),this.lastSelectedEl=c):this.lastSelectedEl&&this.lastSelectedEl.classList.remove("selected");d&&(a=d.getAttribute("data-href"))&&window.postMessage({type:"redirect",url:a},"*")}});
namespace("core.ui.FlyoutButton",{"@inherits":core.ui.WebComponent,"@stylesheets":["src/./index.css"],"@template-uri":"src/./index.html","@cascade":!0,initialize:function(){this.parent(arguments);application.addEventListener("click",this.onClick.bind(this),!1)},onClick:function(a){this.getRealTargetFromEvent(a,"li",".flyout");this.getRealTargetFromEvent(a,"button",".FlyoutButton")?this.toggle():this.hide()},hide:function(){this.element.classList.remove("open")},toggle:function(){this.element.classList.toggle("open")}});
namespace("applications.HelloWorldSimple",{"@inherits":core.ui.HelloWorldApplication,"@cascade":!0,"@stylesheets":["src/./index.css","resources/css/common.css"],"@imports":[],"@traits":[],initialize:function(){var a=this;this.parent(arguments);var b=this.querySelectorAll("*[data-bind\x3dtrue]"),c=this.querySelector("#toggleKeyupBinding");this.outputEl=this.querySelector("#output");this.textChangeBinding=this.bind("input[data-bind\x3dtrue]","change",function(b){return a.setText(b.target.value,b)});
this.keyUpBinding=this.bind("input[data-bind\x3dtrue]","keyup",function(b){return a.setText(b.target.value,b)});this.nameChangedBinding=this.bind(this,"namechanged",function(){return b.forEach(function(b){return b.value=a.getText()})});this.bind(this,"mousemove",function(b){return a.outputEl.innerHTML=a.parseTemplate("\x3cb\x3eX: [screenX], Y: [screenY]\x3c/b\x3e",b)});this.bind(this.keyUpBinding,"change",function(a){return c.innerHTML=a.isbound?"Turn Keyup Binding Off":"Turn Keyup Binding On"});
this.keyUpBinding.toggle();this.bind("#changeNameBtn","click",function(){return a.changeName()});this.bind("#toggleBinding","click",function(b){return a.nameChangedBinding.toggle()});this.bind("#toggleKeyupBinding","click",function(){return a.keyUpBinding.toggle()});this.bind("#toggletextChangeBinding","click",function(){return a.textChangeBinding.toggle()});this.changeName()},bind:function(a,b,c){var d=this;a=a instanceof core.ui.Binding?a:a.element||a||this.element;if("string"==typeof a){var e=
function(b){d.getRealTargetFromEvent(b,a)&&c(b)};this.element.addEventListener(b,e,!1);return b=new core.ui.Binding(this.element,b,e)}a.addEventListener(b,c,!1);if(!(a instanceof core.ui.Binding))return b=new core.ui.Binding(a,b,c)},changeName:function(){this.named="hello world";this.dispatchEvent("namechanged",!0,!0,{})},getText:function(){return this.named},setText:function(a,b){this.named=a;b&&this.dispatchEvent("namechanged",!0,!0,{})},onRender:function(){this.parent(arguments);this.flagicon=
this.querySelector("#flagicon");this.fullnameEl=this.querySelector("#fullname");this.avtarEl=this.querySelector("#emp-photo");this.lang=this.querySelector("#lang");this.resetMenu=this.querySelector("#resetMenu");this.resetMenu.addEventListener("click",this.onResetMenu.bind(this),!1);this.fullnameEl.innerHTML=Session.user.fullname+" - "+Session.user.role;this.avtarEl.src=Config.ROOTPATH+Session.user.photo_src;this.lang.innerHTML=Session.State.currentLanguage.NAME+" ("+Session.State.currentLanguage.CODE+
")\x3cbr/\x3e"+location.href+"\x3cbr/\x3e\x3cbr/\x3e";this.flagicon.src=Config.ROOTPATH+"src/applications/HelloWorldSimple/resources/images/flag_"+Session.State.currentLanguage.CODE+".png"},onResetMenu:function(){var a=this.querySelector("#megamenu");a=a.prototype;var b=confirm("Are you sure you want to reset the menu?");b&&a.reset();b&&a.load();a=a.dataController;b=a.getData().items.where("$.label\x3d\x3d'Resources'")[0];b.label="XXXX";b.items.push({label:"Test",items:[{label:"2nd dynamic item"}]});
a.update(b)},track:function(a){Session.Tracker?Session.Tracker.log(a):console.error("Session.Tracker is undefined. Try including a reference to Tracker from: "+this.namespace)},onLogOut:function(){window.postMessage({type:"redirect",url:Config.Applications.LOGIN},"*")},intiDefaultApp:function(){}});